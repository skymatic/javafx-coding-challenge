on:
  issues:
    types: [opened]
jobs:
  validateIssue:
    runs-on: ubuntu-latest
    steps:
      - if: contains(github.event.issue.labels.*.name, 'bug') && (!contains(github.event.issue.body, env.MUST_CONTAIN) || contains(github.event.issue.body, env.MUST_NOT_CONTAIN))
        name: Close Issue
        uses: peter-evans/close-issue@v1
        with:
          comment: |
            Issue does not conform to issue template.
            Auto-closing this issue.
        env:
          MUST_CONTAIN: "### Description"
          MUST_NOT_CONTAIN: |
            ### Description

            [Summarize your problem.]

            ### System Setup
